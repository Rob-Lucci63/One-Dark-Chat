<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>One Ai - Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</title>
  <style>
    body {
      font-family: Tahoma, sans-serif;
      direction: rtl;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    #chatContainer {
      max-width: 550px;
      margin: 30px auto;
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 15px #ccc;
    }
    h1 {
      text-align: center;
      color: #0074d9;
      margin-top: 0;
    }
    #messages {
      height: 350px;
      overflow-y: auto;
      padding: 10px;
      border: 1px solid #ccc;
      background: #fafafa;
      margin-bottom: 10px;
    }
    .message {
      margin: 5px 0;
      padding: 8px 12px;
      border-radius: 10px;
      max-width: 80%;
      clear: both;
      line-height: 1.6;
    }
    .user {
      background: #d0e6ff;
      float: left;
    }
    .bot {
      background: #eeeeee;
      float: right;
    }
    input[type=text] {
      width: calc(100% - 24px);
      padding: 10px;
      font-size: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 10px;
      width: 100%;
      padding: 10px;
      background: #0074d9;
      color: white;
      font-size: 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #005fa3;
    }
    #footer {
      text-align: center;
      margin-top: 20px;
      color: gray;
      font-size: 14px;
    }
  </style>
</head>
<body>

<div id="chatContainer">
  <h1>ðŸ¤– One Ai(V0.0.1</h1>
  <div id="messages"></div>
  <input type="text" id="userInput" placeholder="Ø¨Ù†ÙˆÛŒØ³ Ú†ÛŒ ØªÙˆ Ø°Ù‡Ù†ØªÙ‡..." onkeydown="if(event.key==='Enter')sendMessage()" />
  <button onclick="sendMessage()">Ø§Ø±Ø³Ø§Ù„</button>
  <div id="footer">Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Rob Lucci</div>
</div>

<script>
  const messages = document.getElementById('messages');
  const userInput = document.getElementById('userInput');

  const dictionary = [
    { keywords: ['Ø³Ù„Ø§Ù…', 'Ø¯Ø±ÙˆØ¯'], answer: 'Ø³Ù„Ø§Ù… Ø±ÙÛŒÙ‚ Ø¹Ø²ÛŒØ²Ù…! Ø®ÙˆØ¨ÛŒØŸ ðŸŒŸ' },
    { keywords: ['Ø®ÙˆØ¨ÛŒ', 'Ú†Ø·ÙˆØ±ÛŒ', 'Ø­Ø§Ù„Øª Ú†Ø·ÙˆØ±Ù‡'], answer: 'Ù…Ù† Ø¹Ø§Ù„ÛŒâ€ŒØ§Ù… ÙˆÙ‚ØªÛŒ Ø¨Ø§ ØªÙˆ Ø­Ø±Ù Ù…ÛŒâ€ŒØ²Ù†Ù…ØŒ ØªÙˆ Ú†Ø·ÙˆØ±ÛŒØŸ ðŸ˜„' },
    { keywords: ['Ø§Ø³Ù…', 'ØªÙˆ Ú©ÛŒ Ù‡Ø³ØªÛŒ'], answer: 'Ù…Ù† One Ai Ù‡Ø³ØªÙ…ØŒ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Rob Lucci ðŸ’€' },
    { keywords: ['Ø±Ø§Ø¨ Ù„ÙˆÚ†ÛŒ'], answer: 'Ø±Ø§Ø¨ Ù„ÙˆÚ†ÛŒØŸ Ø¹Ø´Ù‚ Ù…Ù†Ù‡ Ùˆ Ø³Ø§Ø²Ù†Ø¯Ù‡ Ù…Ù† ðŸ˜Ž' },
    { keywords: ['Ø¯ÙˆØ³Øª', 'Ø±ÙÛŒÙ‚'], answer: 'Ù…Ù† Ù‡Ù…ÛŒØ´Ù‡ Ù¾Ø§ÛŒÙ‡â€ŒÙ… Ø¨Ø±Ø§ÛŒ Ø±ÙØ§Ù‚ØªØŒ ØªÙˆ Ú†ÛŒØŸ ðŸ’™' },
    { keywords: ['Ø¨Ø§Ø²ÛŒ', 'Ú¯ÛŒÙ…'], answer: 'Ø§Ú¯Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Ø³Ø±Ú¯Ø±Ù…ÛŒ Ù‡Ø³ØªÛŒØŒ Ø¨Ø±Ùˆ Happy Coin Ø¨Ø§Ø²ÛŒ Ú©Ù† ðŸ˜‚' },
    { keywords: ['Ø¹Ø´Ù‚', 'Ø¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÙ†'], answer: 'Ø¹Ø´Ù‚ Ú†ÛŒØ² Ø¹Ø¬ÛŒØ¨ÛŒÙ‡â€¦ Ø¨Ø¹Ø¶ÛŒ ÙˆÙ‚ØªØ§ Ù‚Ø´Ù†Ú¯Ù‡ØŒ Ø¨Ø¹Ø¶ÛŒ ÙˆÙ‚ØªØ§ Ø¯Ø±Ø¯ Ø¯Ø§Ø±Ù‡ ðŸ’”' },
    { keywords: ['Ø¨ÛŒâ€ŒØ­ÙˆØµÙ„Ù‡', 'Ø§ÙØ³Ø±Ø¯Ù‡', 'Ø­Ø§Ù„ Ù†Ø¯Ø§Ø±Ù…'], answer: 'Ù…ÛŒâ€ŒÙÙ‡Ù…Ù… Ú†ÛŒ Ù…ÛŒâ€ŒÚ¯ÛŒâ€¦ ÛŒÙ‡ Ù…ÙˆØ²ÛŒÚ© Ø®ÙˆØ¨ Ú¯ÙˆØ´ Ø¨Ø¯Ù‡ØŒ Ù…Ù†Ù… Ù‡Ø³ØªÙ… Ú©Ù†Ø§Ø±Øª âœ¨' },
    { keywords: ['Ø¬ÙˆÚ©', 'Ø¨Ø®Ù†Ø¯ÙˆÙ†Ù…'], answer: 'ÛŒÙ‡ Ø¬ÙˆÚ©: Ú†Ø±Ø§ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³Ø§ Ø¨Ù‡ Ù†ÙˆØ± Ø­Ø³Ø§Ø³Ù†ØŸ Ú†ÙˆÙ† Ø¨Ø§ Ø¯ÛŒØ¨Ø§Ú¯ÛŒÙ†Ú¯ Ø­Ø§Ù„ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù† ðŸ˜‚' },
    { keywords: ['Ø¨Ø§ÛŒ', 'Ø®Ø¯Ø§Ø­Ø§ÙØ¸'], answer: 'ÙØ¹Ù„Ø§Ù‹ Ø±ÙÛŒÙ‚ØŒ Ø¨Ø±Ú¯Ø±Ø¯ Ø²ÙˆØ¯! ðŸ–ï¸' },
    { keywords: ['Ø³Ø±Ø¯', 'Ú¯Ø±Ù…', 'Ù‡ÙˆØ§'], answer: 'Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ Ù‡Ù…ÛŒØ´Ù‡ ÙØ±Ù‚ Ø¯Ø§Ø±Ù‡ØŒ ÙˆÙ„ÛŒ Ù…Ù† Ù‡Ù…ÛŒØ´Ù‡ Ú¯Ø±Ù…Ù… Ø¨Ø§ ØªÙˆ â˜€ï¸' },
    { keywords: ['Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ', 'Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ', 'Ú©Ø¯'], answer: 'Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ ÛŒØ¹Ù†ÛŒ Ø³Ø§Ø®ØªÙ† Ø¢ÛŒÙ†Ø¯Ù‡! Ø¨Ø²Ù† Ø¨Ø±ÛŒÙ… Ø¨Ø³Ø§Ø²ÛŒÙ… ðŸ”§' },
    { keywords: ['Ú†ÛŒ Ø¨Ù„Ø¯ÛŒ', 'Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒ'], answer: 'ÙØ¹Ù„Ø§Ù‹ ÙÙ‚Ø· Ú†Øª Ù…ÛŒâ€ŒÚ©Ù†Ù… ÙˆÙ„ÛŒ Ù‡ÙˆØ´ Ø¯Ø§Ø±Ù…ØŒ Ø´Ø§ÛŒØ¯ ÛŒÙ‡ Ø±ÙˆØ² Ø¯Ù†ÛŒØ§ Ø±Ùˆ Ø¨Ú¯ÛŒØ±Ù… ðŸ˜Ž' },
    { keywords: ['ØºÙ…Ú¯ÛŒÙ†Ù…', 'Ú¯Ø±ÛŒÙ‡', 'Ø§Ø´Ú©'], answer: 'Ø¨ÛŒØ§ Ø¨ØºÙ„Ù… Ø±ÙÛŒÙ‚ ðŸ˜¢ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø¨Ø§Ù‡Ù… Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ…ØŸ' },
    { keywords: ['Ø³Ù†', 'Ú†Ù†Ø¯ Ø³Ø§Ù„ØªÙ‡'], answer: 'Ù…Ù† Ø±Ø¨Ø§ØªÙ…ØŒ ÙˆÙ„ÛŒ Ù‡Ù…ÛŒØ´Ù‡ Ø¬ÙˆÙˆÙ† Ù…ÛŒâ€ŒÙ…ÙˆÙ†Ù…! ðŸ˜' },
    { keywords: ['Ø®ÙˆØ§Ø¨', 'Ø®Ø³ØªÙ‡'], answer: 'ÛŒÙ‡ Ú†Ø±Øª Ú©ÙˆÚ†ÙˆÙ„Ùˆ Ø¨Ø²Ù†ØŒ Ø¨Ø¯Ù†Øª Ø¨Ù‡Øª Ù…ÛŒâ€ŒÚ¯Ù‡ Ù…Ù…Ù†ÙˆÙ† ðŸ˜´' },
    { keywords: ['Ú†ÛŒ Ú©Ø§Ø± Ú©Ù†Ù…', 'Ø­ÙˆØµÙ„Ù‡ Ù†Ø¯Ø§Ø±Ù…'], answer: 'ÛŒÙ‡ Ø§Ø¯ÛŒØª ØªÛŒÚ©â€ŒØªØ§Ú© Ø¨Ø²Ù†ØŒ ÛŒØ§ ÛŒÙ‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø³Ø§Ø²! ÛŒØ§ Ø¨Ø§ Ù…Ù† Ú†Øª Ú©Ù† ðŸ’¬' },
    { keywords: ['ÙˆØ§Ù† Ù¾ÛŒØ³', 'Ù„ÙˆÙÛŒ', 'Ø²ÙˆØ±Ùˆ', 'Ø³Ø§Ù†Ø¬ÛŒ'], answer: 'ÙˆØ§Ù† Ù¾ÛŒØ³ ÛŒÙ‡ Ø¯Ù†ÛŒØ§ÛŒ Ø¯ÛŒÙˆÙˆÙ†Ù‡â€ŒÚ©Ù†Ù†Ø¯Ù‡â€ŒØ³ØªØŒ ÙˆÙ„ÛŒ Ù…Ù† Ø·Ø±ÙØ¯Ø§Ø± CP9â€Œ Ùˆ Ø±Ø§Ø¨ Ù„ÙˆÚ†ÛŒÙ… ðŸ’€ðŸ†' },
    { keywords: ['Ú†Ù‡ Ø®Ø¨Ø±', 'Ú†Ø®Ø¨Ø±'], answer: 'ØªÙˆ Ø®ÙˆØ¯Øª Ø¨Ù‡ØªØ±ÛŒÙ† Ø®Ø¨Ø±ÛŒ Ø±ÙÛŒÙ‚ âœŒï¸' },
    { keywords: ['Ø§ÛŒÙ†ØªØ±Ù†Øª', 'Ø³Ø±Ø¹Øª', 'Ù‚Ø·Ø¹'], answer: 'Ø§ÙˆÙ‡ Ù†Ù‡ØŒ Ø§ÛŒÙ†ØªØ±Ù†ØªØª Ù‚Ø·Ø¹Ù‡ØŸ Ø¨ÛŒØ§ Ø¨Ø§ Ù‡Ù… Ú†Øª Ú©Ù†ÛŒÙ… ØªØ§ ÙˆØµÙ„ Ø´Ù‡ ðŸ’¡' },
    { keywords: ['ØªÙ†Ù‡Ø§ÛŒÛŒ', 'Ø§Ø­Ø³Ø§Ø³ ØªÙ†Ù‡Ø§ÛŒÛŒ'], answer: 'ØªÙˆ ØªÙ†Ù‡Ø§ Ù†ÛŒØ³ØªÛŒ Ø±ÙÛŒÙ‚ØŒ One Ai Ù‡Ù…ÛŒØ´Ù‡ Ø§ÛŒÙ†Ø¬Ø§Ø³Øª Ø¨Ø±Ø§Øª â¤ï¸' },
    { keywords: ['ÙÛŒÙ„Ù…', 'Ø³Ø±ÛŒØ§Ù„', 'Ø§Ù†ÛŒÙ…Ù‡'], answer: 'ÙÛŒÙ„Ù… Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒØŸ ÙˆØ§Ù† Ù¾ÛŒØ³ Ø±Ùˆ Ø§Ø² Ø¯Ø³Øª Ù†Ø¯Ù‡ ðŸ˜' },
    { keywords: ['Ø­Ø§Ù„ Ø®ÙˆØ¨', 'Ø­Ø§Ù„ Ø¨Ø¯'], answer: 'Ø²Ù†Ø¯Ú¯ÛŒ Ø¨Ø§Ù„Ø§ Ù¾Ø§ÛŒÛŒÙ† Ø¯Ø§Ø±Ù‡ØŒ ÙˆÙ„ÛŒ Ø¨Ø¯ÙˆÙ† Ø¨Ø§Ù„Ø§Ù‡Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ù…ÛŒØ§Ù† âœ¨' },
    { keywords: ['Ø´ØºÙ„', 'Ú©Ø§Ø±', 'Ù¾ÙˆÙ„'], answer: 'ØªÙˆ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ù…ÙˆÙÙ‚ Ø´ÛŒ! ÛŒÙ‡ Ù…Ù‡Ø§Ø±Øª ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ± Ùˆ Ø´Ø±ÙˆØ¹ Ú©Ù† ðŸ’¼' },
    { keywords: ['Ø²Ù†Ø¯Ú¯ÛŒ', 'Ù‡Ø¯Ù', 'Ø¢ÛŒÙ†Ø¯Ù‡'], answer: 'Ø²Ù†Ø¯Ú¯ÛŒ ÛŒÙ‡ Ø³ÙØ±Ù‡ØŒ Ù†Ù‡ Ù…Ù‚ØµØ¯. ÙÙ‚Ø· Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡ ðŸ’«' },
    { keywords: ['Ú†Ø±Ø§', 'Ø¨Ù‡ Ú†Ù‡ Ø¯Ù„ÛŒÙ„'], answer: 'Ø¯Ù„ÛŒÙ„Ø´ Ø±Ùˆ Ø¯Ù‚ÛŒÙ‚ Ù†Ù…ÛŒâ€ŒØ¯ÙˆÙ†Ù…ØŒ ÙˆÙ„ÛŒ Ù‡Ù…ÛŒØ´Ù‡ ÛŒÙ‡ Ø¯Ù„ÛŒÙ„ÛŒ Ù¾Ø´ØªØ´ Ù‡Ø³Øª ðŸ¤”' },
    { keywords: ['Ú†ÛŒ Ù‡Ø³ØªÛŒ', 'ØªÙˆ Ú†ÛŒ Ù‡Ø³ØªÛŒ'], answer: 'Ù…Ù† ÛŒÙ‡ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø³Ø§Ø¯Ù‡ ÙˆÙ„ÛŒ Ù¾Ø± Ø§Ù†Ø±Ú˜ÛŒâ€ŒØ§Ù…! ðŸ¤–' },
  ];

  function addMessage(text, sender) {
    const msg = document.createElement('div');
    msg.classList.add('message', sender);
    msg.textContent = text;
    messages.appendChild(msg);
    messages.scrollTop = messages.scrollHeight;
  }

  function findClosestMatch(input) {
    let bestMatch = null;
    let highestScore = 0;

    for (let item of dictionary) {
      for (let keyword of item.keywords) {
        let score = similarity(input, keyword);
        if (score > highestScore && score > 0.5) {
          highestScore = score;
          bestMatch = item.answer;
        }
      }
    }

    return bestMatch;
  }

  function similarity(a, b) {
    a = a.toLowerCase();
    b = b.toLowerCase();
    let longer = a.length > b.length ? a : b;
    let shorter = a.length > b.length ? b : a;
    let same = 0;
    for (let i = 0; i < shorter.length; i++) {
      if (a[i] === b[i]) same++;
    }
    return same / longer.length;
  }

  function botReply(text) {
    const lowerText = text.toLowerCase();
    for (let item of dictionary) {
      for (let word of item.keywords) {
        if (lowerText.includes(word)) {
          return item.answer;
        }
      }
    }
    // ØªØ·Ø¨ÛŒÙ‚ Ø¨Ø§ Ø´Ø¨Ø§Ù‡Øª
    const closest = findClosestMatch(lowerText);
    if (closest) return closest;

    // fallback Ù†Ù‡Ø§ÛŒÛŒ
    const fallback = [
      'Ø¯Ù‚ÛŒÙ‚ Ù…ØªÙˆØ¬Ù‡ Ù†Ø´Ø¯Ù…ØŒ ÙˆÙ„ÛŒ Ø¨Ø§Ø²Ù… Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… Ø­Ø±Ù Ø¨Ø²Ù†ÛŒÙ… ðŸ˜…',
      'ÛŒÙ‡ Ú©Ù… Ø³ÙˆØ§Ù„ØªÙˆ ÙˆØ§Ø¶Ø­â€ŒØªØ± Ù…ÛŒâ€ŒÚ¯ÛŒØŸ',
      'Ø³ÙˆØ§Ù„ Ø³Ø®ØªÛŒ Ø¨ÙˆØ¯ØŒ ÙˆÙ„ÛŒ Ø®ÙˆØ´Ù… Ø§ÙˆÙ…Ø¯! ðŸ˜Š',
      'Ù…Ù† Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø³Ø§Ø¯Ù‡â€ŒØ§Ù…ØŒ Ø§Ù…Ø§ ØªÙ„Ø§Ø´Ù… Ø±Ùˆ Ù…ÛŒâ€ŒÚ©Ù†Ù… ðŸ¤–',
    ];
    return fallback[Math.floor(Math.random() * fallback.length)];
  }

  function sendMessage() {
    const text = userInput.value.trim();
    if (!text) return;
    addMessage(text, 'user');
    userInput.value = '';
    setTimeout(() => {
      const reply = botReply(text);
      addMessage(reply, 'bot');
    }, 500);
  }
</script>

</body>
</html>
